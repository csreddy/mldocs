"use strict";angular.module("mldocsApp",["ui.router","ui.bootstrap","ngMaterial","search.service","offline.service"]).config(["$mdThemingProvider","$mdIconProvider",function(a,b){a.theme("teal").primaryPalette("teal"),a.setDefaultTheme("teal")}]).config(["$stateProvider","$urlRouterProvider","$locationProvider",function(a,b,c){b.otherwise("/"),a.state("app",{url:"/",resolve:{isOnline:["offline",function(a){return a.checkIsOnline().then(function(a){return a.data.isOnline},function(a){return!1})}],modules:["Search",function(a){return a.search({q:"",facetsOnly:!0}).then(function(a){var b=a.data[0].facets;return _.forEach(b,function(a,c){b[c]=a.facetValues}),b},function(a){return console.error("Error getting modules",a),503===a.state?[]:void 0})}],apiList:["Search",function(a){return a.all().then(function(a){return _.pluck(a.data,"apiName")},function(a){return console.error("Error getting api <list></list>",a),503===a.state?[]:void 0})}]},views:{"":{templateUrl:"app/main/main.html",controller:"SearchCtrl"},sidebar:{templateUrl:"app/main/sidebar.html",controller:"SearchCtrl"},navbar:{templateUrl:"app/main/navbar.html",controller:"NavCtrl"}}}),c.html5Mode(!0)}]).filter("cut",function(){return function(a,b,c,d){if(!a)return"";if(c=parseInt(c,10),!c)return a;if(a.length<=c)return a;if(a=a.substr(0,c),b){var e=a.lastIndexOf(" ");-1!=e&&(a=a.substr(0,e))}return a+(d||" â€¦")}}).run(["$rootScope","$state","$stateParams","offline",function(a,b,c,d){a.$state=b,a.$stateParams=c}]),angular.module("mldocsApp").controller("SearchCtrl",["$rootScope","$scope","$timeout","isOnline","$mdSidenav","$mdUtil","$log","Search","$state","modules","apiList","offline",function(a,b,c,d,e,f,g,h,i,j,k,l){function m(a){l.search(a).then(function(a){b.$apply(function(){b.results=a}),console.log("offline results",b.results)},function(a){console.log("error in offline search",a)})}var n=a.isOnline||d;console.log("---------- THE APP IS ONLINE: "+d+"  ------------"),b.intro=!0,b.results=[],b.modules=j||[];var o=k||[];n||(l.apiList().then(function(a){o=a},function(a){console.log("Error getting offline api list",a)}),l.moduleList().then(function(a){b.modules=a},function(a){console.log("Error getting offline api list",a)})),b.query={q:i.params.q||"",fuzzy:!1,strict:!0,suggestions:[],strictSuggest:function(a){h.suggest({q:decodeURIComponent(a),facetsOnly:!1}).success(function(a){b.query.suggestions=_.compact(a)}).error(function(a){console.log("error",a)})},fuzzySuggest:function(a){var c={keys:["lib","apiName"]},d=new Fuse(o,c);b.query.suggestions=d.search(a)},suggest:function(a){var c=[],d=[];try{var e=new Fuse(o);c=e.search(a),c=c.map(function(a){return o[a]})}catch(f){console.log(f.message)}return n?void h.suggest({q:decodeURIComponent(a),facetsOnly:!1}).success(function(a){d=_.compact(a),b.query.suggestions=_.uniq(_.flatten([d,c],!0))}).error(function(a){console.log("error",a)}):void(b.query.suggestions=c)}},b.search=function(a,c){b.showProgress=!0,b.intro=!1,b.query.q=a||b.query.q;var d=c?"api:":"";return n?void h.search({q:d+b.query.q,facetsOnly:!1,perPage:9999}).success(function(a){b.showProgress=!1,b.results=_.rest(a),i.$current.data=b.results,i.go("app.search",{q:b.query.q})}).error(function(a){b.showProgress=!1,console.error("Error",a)}):(m({q:b.query.q,facetsOnly:!1,perPage:9999}),i.go("app.search",{q:b.query.q}),void(b.showProgress=!1))};try{i.params.q&&(b.intro=!1,b.query.q=decodeURIComponent(i.params.q),b.search(b.query.q))}catch(p){console.error("error",p.toString())}}]).controller("ResultCtrl",["$scope","$state",function(a,b){a.results=b.$current.data,console.log("resultCtrl data",a.results)}]).controller("ListCtrl",["$rootScope","$scope","$state","isOnline","Search","offline",function(a,b,c,d,e,f){b.showProgress=!0,b.getList=function(c){var g=a.isOnline||d;return g?void e.search({collection:c,perPage:9999}).success(function(a){b.showProgress=!1,b.list=a,b.list=_.rest(a),b.list=_.sortBy(b.list,"apiName")}).error(function(a){b.showProgress=!1,console.error("Error in list",a)}):(console.log("showProgress",b.showProgress),f.getApisInModule(c).then(function(a){console.log("list",a),b.list=a},function(a){console.log("error",a)}),void(b.showProgress=!1))},b.$evalAsync(function(){b.getList(c.params.lib)}),b.addItems=function(){f.save(b.list)},b.getOfflineItems=function(){f.getList()}}]).controller("DetailCtrl",["$rootScope","$scope","$state","isOnline","Search","offline",function(a,b,c,d,e,f){b.showProgress=!0;var g=a.isOnline||d;b.$evalAsync(function(){return g?void e.get(c.params.uri).success(function(a){b.showProgress=!1,b.api=a}).error(function(a){b.showProgress=!1,console.error("error",a)}):(f.get(c.params.uri).then(function(a){b.api=a}),void(b.showProgress=!1))})}]).controller("NavCtrl",["$rootScope","$scope","$mdSidenav","$mdToast","Search","offline","isOnline",function(a,b,c,d,e,f,g){a.isOnline=g,a.showToast=function(a){var b=d.simple().content(a).action("OK").highlightAction(!1).position("top left").hideDelay(3e3);d.show(b)},a.isOnline||a.showToast("Unable to connect to the internet, switched to offline mode"),b.showSidebar=function(){return!c("left").isLockedOpen()}.call(),b.toggleSideBar=function(){console.log("toggling..."),c("left").toggle()},b.saveForOffline=function(){e.search({q:"",facetsOnly:!1,perPage:9999}).success(function(c){b.forOffline=_.rest(c),f.save(b.forOffline),a.showToast("API docs saved for offline access")}).error(function(a){console.error("error",a)})}}]).controller("RightCtrl",["$scope","$timeout","$mdSidenav","$log",function(a,b,c,d){a.close=function(){c("right").close().then(function(){d.debug("close RIGHT is done")})}}]),angular.module("mldocsApp").config(["$stateProvider","$urlRouterProvider","$locationProvider",function(a,b,c){a.state("app.search",{url:"search?q={search}",views:{"@":{templateUrl:"app/main/main.html",controller:"SearchCtrl"}}}).state("app.search.result",{views:{"@":{templateUrl:"app/main/result.html",controller:"SearchCtrl"}}}).state("app.list",{url:"list/{lib}",resolve:{isOnline:["offline",function(a){return a.checkIsOnline().then(function(a){return a.data.isOnline},function(a){return!1})}]},views:{"@":{templateUrl:"app/main/list.html",controller:"ListCtrl"}}}).state("app.detail",{url:"api?uri={detail}",resolve:{isOnline:["offline",function(a){return a.checkIsOnline().then(function(a){return a.data.isOnline},function(a){return!1})}]},views:{"@":{templateUrl:"app/main/detail.html",controller:"DetailCtrl"}}})}]),angular.module("offline.service",[]).service("offline",["$window","$http","$interval","$rootScope",function(a,b,c,d){function e(a){o.version(a).stores({apis:"++id,isRest,&apiName,lib,category,subcategory,bucket,summary,*params,*headers,return,usage,*examples"})}function f(a){o.version(1).stores({apis:"++id,&apiName,isRest,lib,category,subcategory,bucket,summary,uri"}),o.open(),a.forEach(function(a){o.apis.put(a),console.log("saved api",a.apiName)})}function g(a){o.tables.forEach(function(a){console.log("Schema of "+a.name+": "+JSON.stringify(a.schema))})}function h(a){console.log("seaching...");var b=o.apis.where("apiName").equalsIgnoreCase(a.q);return b.toArray().then(function(a){return a})}function i(){o.apis.add({apiName:"appserver-get-privilege",bucket:"XQuery Library Modules",category:"Admin Library",examples:[],headers:[],"http-verb":"",isRest:!1,lib:"admin",params:[{description:"A configuration specification, typically as returned from one of the Admin module functions",name:"config",type:"element(configuration)"},{description:"The ID of the App Server. Typically, this is the result of an admin:appserver-get-id call.",name:"appserver-id",type:"xs:unsignedLong"}],"return":"xs:unsignedLong",subcategory:"appserver",summary:"This function returns the privilege ID for the specified App Server. If no privilege is configured, It returns 0.",usage:""})}function j(){return b({method:"GET",url:"/api/search/check"})}function k(){console.log("offline api list...");var a=o.apis;return a.toArray().then(function(a){return _.pluck(a,"apiName")})}function l(){console.log("offline module list...");var a={lib:[],bucket:[]};return o.apis.toArray().then(function(b){var c=_.pluck(b,"lib").sort(),d=_.pluck(b,"bucket").sort();return _.forEach(_.uniq(c),function(b){var d=0;_.forEach(c,function(a){b===a&&d++}),a.lib.push({name:b,count:d})}),_.forEach(_.uniq(d),function(b){var c=0;_.forEach(d,function(a){b===a&&c++}),a.bucket.push({name:b,count:c})}),a})}function m(a){return o.apis.where("lib").anyOf([a]).toArray().then(function(a){var b=a;return b=b.map(function(a){return a.uri=a["http-verb"].length>0?"/"+a.lib+"/"+a["http-verb"]+"/"+a.apiName+".json":"/"+a.lib+"/"+a.apiName+".json",_.pick(a,["apiName","lib","http-verb","summary","uri"])})})}function n(a){return o.apis.where("uri").equals(decodeURIComponent(a)).first().then(function(a){return console.log("api",a),a})}var o=new Dexie("offlineMLDocs"),p=!0;j().then(function(a){p=a.data.isOnline,console.log("app is online",p)},function(a){p=!1,console.log("app is online",p)}),this.db=o,this.defineDBSchema=e,this.save=f,this.getDBSchema=g,this.search=h,this.addData=i,this.checkIsOnline=j,this.isOnline=p,this.apiList=k,this.moduleList=l,this.getApisInModule=m,this.get=n}]),angular.module("search.service",[]).service("Search",["$http",function(a){function b(b){return a({method:"POST",url:"/api/search",data:b})}function c(b){return a({method:"POST",url:"/api/search/suggest",data:b})}function d(){return a({method:"GET",url:"/api/search/all"})}function e(b){return console.log("url",decodeURIComponent(b)),a({method:"GET",url:"/api/search/get?uri="+b})}this.search=b,this.suggest=c,this.all=d,this.get=e}]),angular.module("mldocsApp").factory("Modal",["$rootScope","$modal",function(a,b){function c(c,d){var e=a.$new();return c=c||{},d=d||"modal-default",angular.extend(e,c),b.open({templateUrl:"components/modal/modal.html",windowClass:d,scope:e})}return{confirm:{"delete":function(a){return a=a||angular.noop,function(){var b,d=Array.prototype.slice.call(arguments),e=d.shift();b=c({modal:{dismissable:!0,title:"Confirm Delete",html:"<p>Are you sure you want to delete <strong>"+e+"</strong> ?</p>",buttons:[{classes:"btn-danger",text:"Delete",click:function(a){b.close(a)}},{classes:"btn-default",text:"Cancel",click:function(a){b.dismiss(a)}}]}},"modal-danger"),b.result.then(function(b){a.apply(b,d)})}}}}}]),angular.module("mldocsApp").controller("NavbarCtrl",["$scope","$location",function(a,b){a.menu=[{title:"Home",link:"/"}],a.isCollapsed=!0,a.isActive=function(a){return a===b.path()}}]),function(a,b,c){function d(a,b){return"object"!=typeof b&&(b=b()),Object.keys(b).forEach(function(c){a[c]=b[c]}),a}function e(a){return{from:function(b){return a.prototype=Object.create(b.prototype),a.prototype.constructor=a,{extend:function(c){d(a.prototype,"object"!=typeof c?c(b.prototype):c)}}}}}function f(a,b){return b(a)}function g(a,b){function k(){Aa.on("versionchange",function(){Aa.close(),Aa.on("error").fire(new oa("Database version changed by other database connection."))})}function n(a){this._cfg={version:a,storesSource:null,dbschema:{},tables:{},contentUpgrade:null},this.stores({})}function s(a,b,c,d){var e,g,h,i,j,k;if(0===a)Object.keys(pa).forEach(function(a){C(b,a,pa[a].primKey,pa[a].indexes)}),e=Aa._createTransaction(za,ra,pa),e.idbtrans=b,e.idbtrans.onerror=E(c,["populating database"]),e.on("error").subscribe(c),O.newPSD(function(){O.PSD.trans=e;try{Aa.on("populate").fire(e)}catch(a){d.onerror=b.onerror=function(a){a.preventDefault()};try{b.abort()}catch(f){}b.db.close(),c(a)}});else{if(g=[],h=qa.filter(function(b){return b._cfg.version===a})[0],!h)throw new oa("Dexie specification of currently installed DB version is missing");pa=Aa._dbSchema=h._cfg.dbschema,i=!1,j=qa.filter(function(b){return b._cfg.version>a}),j.forEach(function(a){var d,e=pa,h=a._cfg.dbschema;ia(e,b),ia(h,b),pa=Aa._dbSchema=h,d=u(e,h),d.add.forEach(function(a){g.push(function(b,c){C(b,a[0],a[1].primKey,a[1].indexes),c()})}),d.change.forEach(function(a){if(a.recreate)throw new oa("Not yet support for changing primary key");g.push(function(b,c){var d=b.objectStore(a.name);a.add.forEach(function(a){R(d,a)}),a.change.forEach(function(a){d.deleteIndex(a.name),R(d,a)}),a.del.forEach(function(a){d.deleteIndex(a)}),c()})}),a._cfg.contentUpgrade&&g.push(function(b,d){var e,g;i=!0,e=Aa._createTransaction(za,[].slice.call(b.db.objectStoreNames,0),h),e.idbtrans=b,g=0,e._promise=f(e._promise,function(a){return function(b,c,e){function f(a){return function(){a.apply(this,arguments),0==--g&&d()}}return++g,a.call(this,b,function(a,b){arguments[0]=f(a),arguments[1]=f(b),c.apply(this,arguments)},e)}}),b.onerror=E(c,["running upgrader function for version",a._cfg.version]),e.on("error").subscribe(c),a._cfg.contentUpgrade(e),0===g&&d()}),i&&ga()||g.push(function(a,b){Q(h,a),b()})}),k=function(){try{g.length?g.shift()(b,k):N(pa,b)}catch(a){d.onerror=b.onerror=function(a){a.preventDefault()};try{b.abort()}catch(e){}b.db.close(),c(a)}},k()}}function u(a,b){var c,d,e,f,g,h,i,j,k,l={del:[],add:[],change:[]};for(c in a)b[c]||l.del.push(c);for(c in b)if(d=a[c],e=b[c],d)if(f={name:c,def:b[c],recreate:!1,del:[],add:[],change:[]},d.primKey.src!==e.primKey.src)f.recreate=!0,l.change.push(f);else{g=d.indexes.reduce(function(a,b){return a[b.name]=b,a},{}),h=e.indexes.reduce(function(a,b){return a[b.name]=b,a},{});for(i in g)h[i]||f.del.push(i);for(i in h)j=g[i],k=h[i],j?j.src!==k.src&&f.change.push(k):f.add.push(k);(f.recreate||f.del.length>0||f.add.length>0||f.change.length>0)&&l.change.push(f)}else l.add.push([c,e]);return l}function C(a,b,c,d){var e=a.db.createObjectStore(b,c.keyPath?{keyPath:c.keyPath,autoIncrement:c.auto}:{autoIncrement:c.auto});return d.forEach(function(a){R(e,a)}),e}function N(a,b){Object.keys(a).forEach(function(c){b.db.objectStoreNames.contains(c)||C(b,c,a[c].primKey,a[c].indexes)})}function Q(a,b){for(var d,e=0;e<b.db.objectStoreNames.length;++e)d=b.db.objectStoreNames[e],(null===a[d]||a[d]===c)&&b.db.deleteObjectStore(d)}function R(a,b){a.createIndex(b.name,b.keyPath,{unique:b.unique,multiEntry:b.multi})}function S(a,b){throw new oa("Table "+b[0]+" not part of transaction. Original Scope Function Source: "+g.Promise.PSD.trans.scopeFunc.toString())}function T(a,b,c,d){this.name=a,this.schema=c,this.hook=sa[a]?sa[a].hook:r(null,{creating:[l,h],reading:[j,i],updating:[m,h],deleting:[p,h]}),this._tpf=b,this._collClass=d||X}function U(a,b,c,d){T.call(this,a,b,c,d||Y)}function V(a,b,c,d){function e(a,b,c,d){return i._promise(a,c,d)}var f,g,h,i=this;for(this.db=Aa,this.mode=a,this.storeNames=b,this.idbtrans=null,this.on=r(this,["complete","error"],"abort"),this._reculock=0,this._blockedFuncs=[],this._psd=null,this.active=!0,this._dbschema=c,d&&(this.parent=d),this._tpf=e,this.tables=Object.create(ta),f=b.length-1;-1!==f;--f)g=b[f],h=Aa._tableFactory(a,c[g],e),this.tables[g]=h,this[g]||(this[g]=h)}function W(a,b,c){this._ctx={table:a,index:":id"===b?null:b,collClass:a._collClass,or:c}}function X(a,b){var c,d=null,e=null;if(b)try{d=b()}catch(f){e=f}c=a._ctx,this._ctx={table:c.table,index:c.index,isPrimKey:!c.index||c.table.schema.primKey.keyPath&&c.index===c.table.schema.primKey.name,range:d,op:"openCursor",dir:"next",unique:"",algorithm:null,filter:null,isMatch:null,offset:0,limit:1/0,error:e,or:c.or}}function Y(){X.apply(this,arguments)}function Z(a,b){return a._cfg.version-b._cfg.version}function $(a,b,c,d,e,f){c.forEach(function(c){var g=Aa._tableFactory(d,e[c],b);a.forEach(function(a){a[c]||(f?Object.defineProperty(a,c,{configurable:!0,enumerable:!0,get:function(){var a=O.PSD&&O.PSD.trans;return a&&a.db===Aa?a.tables[c]:g}}):a[c]=g)})})}function _(a){a.forEach(function(a){for(var b in a)a[b]instanceof T&&delete a[b]})}function aa(a,b,c,d,e,f){var g=O.PSD;f=f||i,a.onerror||(a.onerror=E(e)),a.onsuccess=b?v(function(){var g,h=a.result;h?(g=function(){h["continue"]()},b(h,function(a){g=a},d,e)&&c(f(h.value),h,function(a){g=a}),g()):d()},e,g):v(function(){var b,e=a.result;e?(b=function(){e["continue"]()},c(f(e.value),e,function(a){b=a}),b()):d()},e,g)}function ba(a){var b=[];return a.split(",").forEach(function(a){a=a.trim();var c=a.replace("&","").replace("++","").replace("*",""),d=0!==c.indexOf("[")?c:a.substring(a.indexOf("[")+1,a.indexOf("]")).split("+");b.push(new I(c,d||null,-1!==a.indexOf("&"),-1!==a.indexOf("*"),-1!==a.indexOf("++"),Array.isArray(d),-1!==d.indexOf(".")))}),b}function ca(a,b){return b>a?-1:a>b?1:0}function da(a,b){return b>a?1:a>b?-1:0}function ea(a){return function(b,c){for(var d,e=0;;){if(d=a(b[e],c[e]),0!==d)return d;if(++e,e===b.length||e===c.length)return a(b.length,c.length)}}}function fa(a,b){return a?b?function(){return a.apply(this,arguments)&&b.apply(this,arguments)}:a:b}function ga(){return navigator.userAgent.indexOf("Trident")>=0||navigator.userAgent.indexOf("MSIE")>=0}function ha(){if(Aa.verno=ua.version/10,Aa._dbSchema=pa={},ra=[].slice.call(ua.objectStoreNames,0),0!==ra.length){var a=ua.transaction(L(ra),"readonly");ra.forEach(function(b){for(var c,d,e=a.objectStore(b),f=e.keyPath,g=f&&"string"==typeof f&&-1!==f.indexOf("."),h=new I(f,f||"",!1,!1,!!e.autoIncrement,f&&"string"!=typeof f,g),i=[],j=0;j<e.indexNames.length;++j)c=e.index(e.indexNames[j]),f=c.keyPath,g=f&&"string"==typeof f&&-1!==f.indexOf("."),d=new I(c.name,f,!!c.unique,!!c.multiEntry,!1,f&&"string"!=typeof f,g),i.push(d);pa[b]=new J(b,h,i,{})}),$([sa],Aa._transPromiseFactory,Object.keys(pa),za,pa)}}function ia(a,b){for(var c,d,e,f,g=b.db.objectStoreNames,h=0;h<g.length;++h)for(c=g[h],d=b.objectStore(c),e=0;e<d.indexNames.length;++e){var i=d.indexNames[e],j=d.index(i).keyPath,k="string"==typeof j?j:"["+[].slice.call(j).join("+")+"]";a[c]&&(f=a[c].idxByName[k],f&&(f.name=i))}}var ja=b&&b.addons||g.addons,ka=g.dependencies,la=ka.indexedDB,ma=ka.IDBKeyRange,na=(ka.IDBTransaction,ka.DOMError,ka.TypeError),oa=ka.Error,pa=this._dbSchema={},qa=[],ra=[],sa={},ta={},ua=null,va=!0,wa=null,xa=!1,ya="readonly",za="readwrite",Aa=this,Ba=[],Ca=!1,Da=!!M();this.version=function(a){if(ua)throw new oa("Cannot add version when database is open");this.verno=Math.max(this.verno,a);var b=qa.filter(function(b){return b._cfg.version===a})[0];return b?b:(b=new n(a),qa.push(b),qa.sort(Z),b)},d(n.prototype,{stores:function(a){var b,c;return this._cfg.storesSource=this._cfg.storesSource?d(this._cfg.storesSource,a):a,b={},qa.forEach(function(a){d(b,a._cfg.storesSource)}),c=this._cfg.dbschema={},this._parseStoresSpec(b,c),pa=Aa._dbSchema=c,_([sa,Aa,ta]),$([ta],S,Object.keys(c),za,c),$([sa,Aa,this._cfg.tables],Aa._transPromiseFactory,Object.keys(c),za,c,!0),ra=Object.keys(c),this},upgrade:function(a){var b=this;return P(function(){a(Aa._createTransaction(za,Object.keys(b._cfg.dbschema),b._cfg.dbschema))}),this._cfg.contentUpgrade=a,this},_parseStoresSpec:function(a,b){Object.keys(a).forEach(function(c){if(null!==a[c]){var d={},e=ba(a[c]),f=e.shift();if(f.multi)throw new oa("Primary key cannot be multi-valued");f.keyPath&&f.auto&&x(d,f.keyPath,0),e.forEach(function(a){if(a.auto)throw new oa("Only primary key can be marked as autoIncrement (++)");if(!a.keyPath)throw new oa("Index must have a name and cannot be an empty string");x(d,a.keyPath,a.compound?a.keyPath.map(function(){return""}):"")}),b[c]=new J(c,f,e,d)}})}}),this._allTables=sa,this._tableFactory=function(a,b,c){return a===ya?new T(b.name,c,b,X):new U(b.name,c,b)},this._createTransaction=function(a,b,c,d){return new V(a,b,c,d)},this._transPromiseFactory=function(a,b,c){var d,e;return!va||O.PSD&&O.PSD.letThrough?(e=Aa._createTransaction(a,b,pa),e._promise(a,function(a,b){e.error(function(a){Aa.on("error").fire(a)}),c(function(b){e.complete(function(){a(b)})},b,e)})):d=new O(function(e,f){Ba.push({resume:function(){var g=Aa._transPromiseFactory(a,b,c);d.onuncatched=g.onuncatched,g.then(e,f)}})})},this._whenReady=function(a){return new O(!va||O.PSD&&O.PSD.letThrough?a:function(b,c){P(function(){new O(function(){a(b,c)})}),Ba.push({resume:function(){a(b,c)}})})},this.verno=0,this.open=function(){return new O(function(b,c){function d(a){try{e.transaction.abort()}catch(b){}xa=!1,wa=a,va=!1,c(wa),Ba.forEach(function(a){a.resume()}),Ba=[]}if(ua||xa)throw new oa("Database already opened or being opened");var e,f=!1;try{if(wa=null,xa=!0,0===qa.length&&(Ca=!0),!la)throw new oa("indexedDB API not found. If using IE10+, make sure to run your code on a server URL (not locally). If using Safari, make sure to include indexedDB polyfill.");e=Ca?la.open(a):la.open(a,Math.round(10*Aa.verno)),e.onerror=E(d,["opening database",a]),e.onblocked=function(a){Aa.on("blocked").fire(a)},e.onupgradeneeded=v(function(b){var c,g;Ca&&!Aa._allowEmptyDB?(e.onerror=function(a){a.preventDefault()},e.transaction.abort(),e.result.close(),c=la.deleteDatabase(a),c.onsuccess=c.onerror=function(){d(new oa("Database '"+a+"' doesnt exist"))}):(0===b.oldVersion&&(f=!0),e.transaction.onerror=E(d),g=b.oldVersion>Math.pow(2,62)?0:b.oldVersion,s(g/10,e.transaction,d,e))},d),e.onsuccess=v(function(){xa=!1,ua=e.result,Ca?ha():ua.objectStoreNames.length>0&&ia(pa,ua.transaction(L(ua.objectStoreNames),ya)),ua.onversionchange=Aa.on("versionchange").fire,Da||H(function(b){return-1===b.indexOf(a)?b.push(a):void 0}),O.newPSD(function(){function a(){va=!1,Ba.forEach(function(a){a.resume()}),Ba=[],b()}O.PSD.letThrough=!0;try{var c=Aa.on.ready.fire();c&&"function"==typeof c.then?c.then(a,function(a){ua.close(),ua=null,d(a)}):t(a)}catch(e){d(e)}})},d)}catch(g){d(g)}})},this.close=function(){ua&&(ua.close(),ua=null,va=!0,wa=null)},this["delete"]=function(){var b=arguments;return new O(function(c,d){function e(){Aa.close();var b=la.deleteDatabase(a);b.onsuccess=function(){Da||H(function(b){var c=b.indexOf(a);return c>=0?b.splice(c,1):void 0}),c()},b.onerror=E(d,["deleting",a]),b.onblocked=function(){Aa.on("blocked").fire()}}if(b.length>0)throw new oa("Arguments not allowed in db.delete()");xa?Ba.push({resume:e}):e()})},this.backendDB=function(){return ua},this.isOpen=function(){return null!==ua},this.hasFailed=function(){return null!==wa},this.dynamicallyOpened=function(){return Ca},this.name=a,Object.defineProperty(this,"tables",{get:function(){return Object.keys(sa).map(function(a){return sa[a]})}}),this.on=r(this,"error","populate","blocked",{ready:[q,h],versionchange:[o,h]}),this.on.ready.subscribe=f(this.on.ready.subscribe,function(a){return function(b,c){function d(){return c||Aa.on.ready.unsubscribe(d),b.apply(this,arguments)}a.call(this,d),Aa.isOpen()&&(va?Ba.push({resume:d}):d())}}),P(function(){Aa.on("populate").fire(Aa._createTransaction(za,ra,pa)),Aa.on("error").fire(new oa)}),this.transaction=function(a,b,c){function d(b,d){var g,h,k,l=null;try{if(i)throw i;l=Aa._createTransaction(a,j,pa,e),g=j.map(function(a){return l.tables[a]}),g.push(l),k=0,O.newPSD(function(){O.PSD.trans=l,l.scopeFunc=c,e&&(l.idbtrans=e.idbtrans,l._promise=f(l._promise,function(a){return function(b,c,d){function e(a){return function(b){var c;return O._rootExec(function(){c=a(b),O._tickFinalize(function(){0==--k&&l.active&&(l.active=!1,l.on.complete.fire())})}),c}}return++k,a.call(this,b,function(a,b,d){return c(e(a),e(b),d)},d)}})),l.complete(function(){b(h)}),l.error(function(a){l.idbtrans&&(l.idbtrans.onerror=G);try{l.abort()}catch(b){}e&&(e.active=!1,e.on.error.fire(a));var c=d(a);e||c||Aa.on.error.fire(a)}),O._rootExec(function(){h=c.apply(l,g)})}),(!l.idbtrans||e&&0===k)&&l._nop()}catch(m){l&&l.idbtrans&&(l.idbtrans.onerror=G),l&&l.abort(),e&&e.on.error.fire(m),t(function(){d(m)||Aa.on("error").fire(m)})}}var e,g;b=[].slice.call(arguments,1,arguments.length-1),c=arguments[arguments.length-1],e=O.PSD&&O.PSD.trans,e&&e.db===Aa&&-1===a.indexOf("!")||(e=null),g=-1!==a.indexOf("?"),a=a.replace("!","").replace("?","");var h=Array.isArray(b[0])?b.reduce(function(a,b){return a.concat(b)}):b,i=null,j=h.map(function(a){return"string"==typeof a?a:(a instanceof T||(i=i||new na("Invalid type. Arguments following mode must be instances of Table or String")),a.name)});return"r"==a||a==ya?a=ya:"rw"==a||a==za?a=za:i=new oa("Invalid transaction mode: "+a),e&&(i||(e&&e.mode===ya&&a===za&&(g?e=null:i=i||new oa("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY")),e&&j.forEach(function(a){e.tables.hasOwnProperty(a)||(g?e=null:i=i||new oa("Table "+a+" not included in parent transaction. Parent Transaction function: "+e.scopeFunc.toString()))}))),e?e._promise(a,d,"lock"):Aa._whenReady(d)},this.table=function(a){if(!Ca&&!sa.hasOwnProperty(a))throw new oa("Table does not exist");return sa[a]},d(T.prototype,function(){function a(){throw new oa("Current Transaction is READONLY")}return{_trans:function(a,b,c){return this._tpf(a,[this.name],b,c)},_idbstore:function(a,b,c){var d=this;return this._tpf(a,[this.name],function(a,c,e){b(a,c,e.idbtrans.objectStore(d.name),e)},c)},get:function(a,b){var c=this;return P(function(){b(c.schema.instanceTemplate)}),this._idbstore(ya,function(b,d,e){var f=e.get(a);f.onerror=E(d,["getting",a,"from",c.name]),f.onsuccess=function(){b(c.hook.reading.fire(f.result))}}).then(b)},where:function(a){return new W(this,a)},count:function(a){return this.toCollection().count(a)},offset:function(a){return this.toCollection().offset(a)},limit:function(a){return this.toCollection().limit(a)},reverse:function(){return this.toCollection().reverse()},filter:function(a){return this.toCollection().and(a)},each:function(a){var b=this;return P(function(){a(b.schema.instanceTemplate)}),this._idbstore(ya,function(c,d,e){var f=e.openCursor();f.onerror=E(d,["calling","Table.each()","on",b.name]),aa(f,null,a,c,d,b.hook.reading.fire)})},toArray:function(a){var b=this;return P(function(){a([b.schema.instanceTemplate])}),this._idbstore(ya,function(a,c,d){var e=[],f=d.openCursor();f.onerror=E(c,["calling","Table.toArray()","on",b.name]),aa(f,null,function(a){e.push(a)},function(){a(e)},c,b.hook.reading.fire)}).then(a)},orderBy:function(a){return new this._collClass(new W(this,a))},toCollection:function(){return new this._collClass(new W(this))},mapToClass:function(a,b){var c,d;return this.schema.mappedClass=a,c=Object.create(a.prototype),this.schema.primKey.keyPath&&(x(c,this.schema.primKey.keyPath,this.schema.primKey.auto?0:""),y(a.prototype,this.schema.primKey.keyPath)),b&&D(c,b),this.schema.instanceTemplate=c,d=Object.setPrototypeOf?function(b){return b?(Object.setPrototypeOf(b,a.prototype),b):b}:function(b){var c,d;if(!b)return b;c=Object.create(a.prototype);for(d in b)b.hasOwnProperty(d)&&(c[d]=b[d]);return c},this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=d,this.hook("reading",d),a},defineClass:function(a){return this.mapToClass(g.defineClass(a),a)},add:a,put:a,"delete":a,clear:a,update:a}}),e(U).from(T).extend(function(){return{add:function(a,b){var d=this,e=this.hook.creating.fire;return this._idbstore(za,function(f,g,i,j){var k,l,m,n={};e!==h&&(k=b||(i.keyPath?w(a,i.keyPath):c),l=e.call(n,k,a,j),k===c&&l!==c&&(i.keyPath?x(a,i.keyPath,l):b=l)),m=b?i.add(a,b):i.add(a),m.onerror=E(function(a){return n.onerror&&n.onerror(a),g(a)},["adding",a,"into",d.name]),m.onsuccess=function(b){var c=i.keyPath;c&&x(a,c,b.target.result),n.onsuccess&&n.onsuccess(b.target.result),f(m.result)}})},put:function(a,b){var d=this,e=this.hook.creating.fire,f=this.hook.updating.fire;return e!==h||f!==h?this._trans(za,function(e,f,g){var h=b||d.schema.primKey.keyPath&&w(a,d.schema.primKey.keyPath);h===c?g.tables[d.name].add(a).then(e,f):(g._lock(),a=A(a),g.tables[d.name].where(":id").equals(h).modify(function(){this.value=a}).then(function(c){return 0===c?g.tables[d.name].add(a,b):h})["finally"](function(){g._unlock()}).then(e,f))}):this._idbstore(za,function(c,e,f){var g=b?f.put(a,b):f.put(a);g.onerror=E(e,["putting",a,"into",d.name]),g.onsuccess=function(b){var d=f.keyPath;d&&x(a,d,b.target.result),c(g.result)}})},"delete":function(a){return this.hook.deleting.subscribers.length?this.where(":id").equals(a)["delete"]():this._idbstore(za,function(b,c,d){var e=d["delete"](a);e.onerror=E(c,["deleting",a,"from",d.name]),e.onsuccess=function(){b(e.result)}})},clear:function(){return this.hook.deleting.subscribers.length?this.toCollection()["delete"]():this._idbstore(za,function(a,b,c){var d=c.clear();d.onerror=E(b,["clearing",c.name]),d.onsuccess=function(){a(d.result)}})},update:function(a,b){if("object"!=typeof b||Array.isArray(b))throw new oa("db.update(keyOrObject, modifications). modifications must be an object.");if("object"!=typeof a||Array.isArray(a))return this.where(":id").equals(a).modify(b);Object.keys(b).forEach(function(c){x(a,c,b[c])});var d=w(a,this.schema.primKey.keyPath);return d===c&&O.reject(new oa("Object does not contain its primary key")),this.where(":id").equals(d).modify(b)}}}),d(V.prototype,{_lock:function(){return++this._reculock,1===this._reculock&&O.PSD&&(O.PSD.lockOwnerFor=this),this},_unlock:function(){if(0==--this._reculock)for(O.PSD&&(O.PSD.lockOwnerFor=null);this._blockedFuncs.length>0&&!this._locked();){var a=this._blockedFuncs.shift();try{a()}catch(b){}}return this},_locked:function(){return this._reculock&&(!O.PSD||O.PSD.lockOwnerFor!==this)},_nop:function(a){this.tables[this.storeNames[0]].get(0).then(a)},_promise:function(a,b,c){var d=this;return O.newPSD(function(){var e;return d._locked()?e=new O(function(e,f){d._blockedFuncs.push(function(){d._promise(a,b,c).then(e,f)})}):(e=d.active?new O(function(e,f){if(!d.idbtrans&&a){if(!ua)throw new oa(wa?"Database not open. Following error in populate, ready or upgrade function made Dexie.open() fail: "+wa:"Database not open");var h=d.idbtrans=ua.transaction(L(d.storeNames),d.mode);h.onerror=function(a){d.on("error").fire(a&&a.target.error),a.preventDefault(),d.abort()},h.onabort=function(a){d.active=!1,d.on("abort").fire(a)},h.oncomplete=function(a){d.active=!1,d.on("complete").fire(a)}}c&&d._lock();try{b(e,f,d)}catch(i){g.ignoreTransaction(function(){d.on("error").fire(i)}),d.abort(),f(i)}}):O.reject(F(new oa("Transaction is inactive. Original Scope Function Source: "+d.scopeFunc.toString()))),d.active&&c&&e["finally"](function(){d._unlock()})),e.onuncatched=function(a){g.ignoreTransaction(function(){d.on("error").fire(a)}),d.abort()},e})},complete:function(a){return this.on("complete",a)},error:function(a){return this.on("error",a)},abort:function(){if(this.idbtrans&&this.active)try{this.active=!1,this.idbtrans.abort(),this.on.error.fire(new oa("Transaction Aborted"))}catch(a){}},table:function(a){if(!this.tables.hasOwnProperty(a))throw new oa("Table "+a+" not in transaction");return this.tables[a]}}),d(W.prototype,function(){function a(a,b){try{throw b}catch(c){a._ctx.error=c}return a}function b(a){return Array.prototype.slice.call(1===a.length&&Array.isArray(a[0])?a[0]:a)}function c(a){return"next"===a?function(a){return a.toUpperCase()}:function(a){return a.toLowerCase()}}function d(a){return"next"===a?function(a){return a.toLowerCase()}:function(a){return a.toUpperCase()}}function e(a,b,c,d,e,f){for(var g,h=Math.min(a.length,d.length),i=-1,j=0;h>j;++j){if(g=b[j],g!==d[j])return e(a[j],c[j])<0?a.substr(0,j)+c[j]+c.substr(j+1):e(a[j],d[j])<0?a.substr(0,j)+d[j]+c.substr(j+1):i>=0?a.substr(0,i)+b[i]+c.substr(i+1):null;e(a[j],g)<0&&(i=j)}return h<d.length&&"next"===f?a+c.substr(a.length):h<a.length&&"prev"===f?a.substr(0,c.length):0>i?null:a.substr(0,i)+d[i]+c.substr(i+1)}function f(a,b,f){function g(a){h=c(a),i=d(a),j="next"===a?ca:da,k=h(f),l=i(f),m=a}var h,i,j,k,l,m;g("next"),a._ondirectionchange=function(a){g(a)},a._addAlgorithm(function(a,c,d){var f,g,h=a.key;return"string"!=typeof h?!1:(f=i(h),b(f,l)?(c(function(){a["continue"]()}),!0):(g=e(h,f,k,l,j,m),c(g?function(){a["continue"](g)}:d),!1))})}return{between:function(a,b,c,d){return c=c!==!1,d=d===!0,a>b||a===b&&(c||d)&&!(c&&d)?new this._ctx.collClass(this,function(){return ma.only(a)}).limit(0):new this._ctx.collClass(this,function(){return ma.bound(a,b,!c,!d)})},equals:function(a){return new this._ctx.collClass(this,function(){return ma.only(a)})},above:function(a){
return new this._ctx.collClass(this,function(){return ma.lowerBound(a,!0)})},aboveOrEqual:function(a){return new this._ctx.collClass(this,function(){return ma.lowerBound(a)})},below:function(a){return new this._ctx.collClass(this,function(){return ma.upperBound(a,!0)})},belowOrEqual:function(a){return new this._ctx.collClass(this,function(){return ma.upperBound(a)})},startsWith:function(b){return"string"!=typeof b?a(new this._ctx.collClass(this),new na("String expected")):this.between(b,b+String.fromCharCode(65535),!0,!0)},startsWithIgnoreCase:function(b){if("string"!=typeof b)return a(new this._ctx.collClass(this),new na("String expected"));if(""===b)return this.startsWith(b);var c=new this._ctx.collClass(this,function(){return ma.bound(b.toUpperCase(),b.toLowerCase()+String.fromCharCode(65535))});return f(c,function(a,b){return 0===a.indexOf(b)},b),c._ondirectionchange=function(){a(c,new oa("reverse() not supported with WhereClause.startsWithIgnoreCase()"))},c},equalsIgnoreCase:function(b){if("string"!=typeof b)return a(new this._ctx.collClass(this),new na("String expected"));var c=new this._ctx.collClass(this,function(){return ma.bound(b.toUpperCase(),b.toLowerCase())});return f(c,function(a,b){return a===b},b),c},anyOf:function(){var a,c,d=this._ctx,e=d.table.schema,f=d.index?e.idxByName[d.index]:e.primKey,g=f&&f.compound,h=b(arguments),i=g?ea(ca):ca;return h.sort(i),0===h.length?new this._ctx.collClass(this,function(){return ma.only("")}).limit(0):(a=new this._ctx.collClass(this,function(){return ma.bound(h[0],h[h.length-1])}),a._ondirectionchange=function(a){i="next"===a?ca:da,g&&(i=ea(i)),h.sort(i)},c=0,a._addAlgorithm(function(a,b,d){for(var e=a.key;i(e,h[c])>0;)if(++c,c===h.length)return b(d),!1;return 0===i(e,h[c])?(b(function(){a["continue"]()}),!0):(b(function(){a["continue"](h[c])}),!1)}),a)}}}),d(X.prototype,function(){function a(a,b){a.filter=fa(a.filter,b)}function b(a,b){a.isMatch=fa(a.isMatch,b)}function c(a,b){if(a.isPrimKey)return b;var c=a.table.schema.idxByName[a.index];if(!c)throw new oa("KeyPath "+a.index+" on object store "+b.name+" is not indexed");return a.isPrimKey?b:b.index(c.name)}function d(a,b){return c(a,b)[a.op](a.range||null,a.dir+a.unique)}function e(a,b,c,e,f){a.or?function(){function g(){2==++k&&c()}function h(a,c,d){if(!i||i(c,d,g,e)){var f=c.primaryKey.toString();j.hasOwnProperty(f)||(j[f]=!0,b(a,c,d))}}var i=a.filter,j={},k=(a.table.schema.primKey.keyPath,0);a.or._iterate(h,g,e,f),aa(d(a,f),a.algorithm,h,g,e,a.table.hook.reading.fire)}():aa(d(a,f),fa(a.algorithm,a.filter),b,c,e,a.table.hook.reading.fire)}function f(a){return a.table.schema.instanceTemplate}return{_read:function(a,b){var c=this._ctx;return c.error?c.table._trans(null,function(a,b){b(c.error)}):c.table._idbstore(ya,a).then(b)},_write:function(a){var b=this._ctx;return b.error?b.table._trans(null,function(a,c){c(b.error)}):b.table._idbstore(za,a,"locked")},_addAlgorithm:function(a){var b=this._ctx;b.algorithm=fa(b.algorithm,a)},_iterate:function(a,b,c,d){return e(this._ctx,a,b,c,d)},each:function(a){var b=this._ctx;return P(function(){a(f(b))}),this._read(function(c,d,f){e(b,a,c,d,f)})},count:function(a){var b,d,f;return P(function(){a(0)}),b=this,d=this._ctx,d.filter||d.algorithm||d.or?(f=0,this._read(function(a,b,c){e(d,function(){return++f,!1},function(){a(f)},b,c)},a)):this._read(function(a,e,f){var g=c(d,f),h=d.range?g.count(d.range):g.count();h.onerror=E(e,["calling","count()","on",b.name]),h.onsuccess=function(b){a(Math.min(b.target.result,Math.max(0,d.limit-d.offset)))}},a)},sortBy:function(a,b){function c(a,b){return b?c(a[h[b]],b-1):a[i]}function d(a,b){var d=c(a,j),f=c(b,j);return f>d?-e:d>f?e:0}var e,g=this._ctx;P(function(){b([f(g)])});var h=a.split(".").reverse(),i=h[0],j=h.length-1;return e="next"===this._ctx.dir?1:-1,this.toArray(function(a){return a.sort(d)}).then(b)},toArray:function(a){var b=this._ctx;return P(function(){a([f(b)])}),this._read(function(a,c,d){var f=[];e(b,function(a){f.push(a)},function(){a(f)},c,d)},a)},offset:function(b){var c=this._ctx;return 0>=b?this:(c.offset+=b,c.or||c.algorithm||c.filter?a(c,function(){return--b<0}):a(c,function(a,c){return 0===b?!0:1===b?(--b,!1):(c(function(){a.advance(b),b=0}),!1)}),this)},limit:function(b){return this._ctx.limit=Math.min(this._ctx.limit,b),a(this._ctx,function(a,c,d){return--b<=0&&c(d),b>=0}),this},until:function(b,c){var d=this._ctx;return P(function(){b(f(d))}),a(this._ctx,function(a,d,e){return b(a.value)?(d(e),c):!0}),this},first:function(a){var b=this;return P(function(){a(f(b._ctx))}),this.limit(1).toArray(function(a){return a[0]}).then(a)},last:function(a){return this.reverse().first(a)},and:function(c){var d=this;return P(function(){c(f(d._ctx))}),a(this._ctx,function(a){return c(a.value)}),b(this._ctx,c),this},or:function(a){return new W(this._ctx.table,a,this)},reverse:function(){return this._ctx.dir="prev"===this._ctx.dir?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this},desc:function(){return this.reverse()},eachKey:function(a){var b=this,c=this._ctx;return P(function(){a(f(b._ctx)[b._ctx.index])}),c.isPrimKey||(c.op="openKeyCursor"),this.each(function(b,c){a(c.key,c)})},eachUniqueKey:function(a){return this._ctx.unique="unique",this.eachKey(a)},keys:function(a){var b,c,d;return P(function(){a([f(c)[b._ctx.index]])}),b=this,c=this._ctx,c.isPrimKey||(c.op="openKeyCursor"),d=[],this.each(function(a,b){d.push(b.key)}).then(function(){return d}).then(a)},uniqueKeys:function(a){return this._ctx.unique="unique",this.keys(a)},firstKey:function(a){return this.limit(1).keys(function(a){return a[0]}).then(a)},lastKey:function(a){return this.reverse().firstKey(a)},distinct:function(){var b={};return a(this._ctx,function(a){var c=a.primaryKey.toString(),d=b.hasOwnProperty(c);return b[c]=!0,!d}),this}}}),e(Y).from(X).extend({modify:function(a){var b=this,c=this._ctx,e=c.table.hook,f=e.updating.fire,g=e.deleting.fire;return P(function(){"function"==typeof a&&a.call({value:c.table.schema.instanceTemplate},c.table.schema.instanceTemplate)}),this._write(function(e,i,j,k){function l(a,b){var d,e,f;C=b.primaryKey,d={primKey:b.primaryKey,value:a},o.call(d,a)!==!1?(e=!d.hasOwnProperty("value"),f=e?b["delete"]():b.update(d.value),++s,f.onerror=E(function(a){return v.push(a),y.push(d.primKey),d.onerror&&d.onerror(a),n(),!0},e?["deleting",a,"from",c.table.name]:["modifying",a,"on",c.table.name]),f.onsuccess=function(){d.onsuccess&&d.onsuccess(d.value),++t,n()}):d.onsuccess&&d.onsuccess(d.value)}function m(a){return a&&(v.push(a),y.push(C)),i(new K("Error modifying one or more objects",v,t,y))}function n(){u&&t+v.length===s&&(v.length>0?m():e(t))}var o,p,q,r;"function"==typeof a?o=f===h&&g===h?a:function(b){var c,d,e=A(b);return a.call(this,b)===!1?!1:void(this.hasOwnProperty("value")?(c=B(e,this.value),d=f.call(this,c,this.primKey,e,k),d&&(b=this.value,Object.keys(d).forEach(function(a){x(b,a,d[a])}))):g.call(this,this.primKey,b,k))}:f===h?(p=Object.keys(a),q=p.length,o=function(b){for(var c,d,e=!1,f=0;q>f;++f)c=p[f],d=a[c],w(b,c)!==d&&(x(b,c,d),e=!0);return e}):(r=a,a=z(r),o=function(b){var c=!1,e=f.call(this,a,this.primKey,A(b),k);return e&&d(a,e),Object.keys(a).forEach(function(d){var e=a[d];w(b,d)!==e&&(x(b,d,e),c=!0)}),e&&(a=z(r)),c});var s=0,t=0,u=!1,v=[],y=[],C=null;b._iterate(l,function(){u=!0,n()},m,j)})},"delete":function(){return this.modify(function(){delete this.value})}}),d(this,{Collection:X,Table:T,Transaction:V,Version:n,WhereClause:W,WriteableCollection:Y,WriteableTable:U}),k(),ja.forEach(function(a){a(Aa)})}function h(){}function i(a){return a}function j(a,b){return a===i?b:function(c){return b(a(c))}}function k(a,b){return function(){a.apply(this,arguments),b.apply(this,arguments)}}function l(a,b){return a===h?b:function(){var d,e,f,g=a.apply(this,arguments);return g!==c&&(arguments[0]=g),d=this.onsuccess,e=this.onerror,delete this.onsuccess,delete this.onerror,f=b.apply(this,arguments),d&&(this.onsuccess=this.onsuccess?k(d,this.onsuccess):d),e&&(this.onerror=this.onerror?k(e,this.onerror):e),f!==c?f:g}}function m(a,b){return a===h?b:function(){var e,f,g,h=a.apply(this,arguments);return h!==c&&d(arguments[0],h),e=this.onsuccess,f=this.onerror,delete this.onsuccess,delete this.onerror,g=b.apply(this,arguments),e&&(this.onsuccess=this.onsuccess?k(e,this.onsuccess):e),f&&(this.onerror=this.onerror?k(f,this.onerror):f),h===c?g===c?c:g:g===c?h:d(h,g)}}function n(a,b){return a===h?b:function(){return a.apply(this,arguments)===!1?!1:b.apply(this,arguments)}}function o(a,b){return a===h?b:function(){return b.apply(this,arguments)===!1?!1:a.apply(this,arguments)}}function p(a,b){return a===h?b:function(){a.apply(this,arguments),b.apply(this,arguments)}}function q(a,b){return a===h?b:function(){var c,d,e=a.apply(this,arguments);return e&&"function"==typeof e.then?(c=this,d=arguments,e.then(function(){return b.apply(c,d)})):b.apply(this,arguments)}}function r(b){function c(a,b,c){if(Array.isArray(a))return e(a);if("object"==typeof a)return d(a);b||(b=n),c||(c=h);var f={subscribers:[],fire:c,subscribe:function(a){f.subscribers.push(a),f.fire=b(f.fire,a)},unsubscribe:function(a){f.subscribers=f.subscribers.filter(function(b){return b!==a}),f.fire=f.subscribers.reduce(b,c)}};return j[a]=k[a]=f,f}function d(b){Object.keys(b).forEach(function(d){var e,f=b[d];if(Array.isArray(f))c(d,b[d][0],b[d][1]);else{if("asap"!==f)throw new Error("Invalid event config");e=c(d,null,function(){var b=arguments;e.subscribers.forEach(function(c){t(function(){c.apply(a,b)})})}),e.subscribe=function(a){-1===e.subscribers.indexOf(a)&&e.subscribers.push(a)},e.unsubscribe=function(a){var b=e.subscribers.indexOf(a);-1!==b&&e.subscribers.splice(b,1)}}})}function e(a){function b(){return d?!1:void(d=!0)}var d=!1;a.forEach(function(a){c(a).subscribe(b)})}var f,g,i=arguments,j={},k=function(a,c){if(c){var d=[].slice.call(arguments,1),e=j[a];return e.subscribe.apply(e,d),b}return"string"==typeof a?j[a]:void 0};for(k.addEventType=c,f=1,g=i.length;g>f;++f)c(i[f]);return k}function s(a){if(!a)throw new Error("Assertion failed")}function t(b){a.setImmediate?setImmediate(b):setTimeout(b,0)}function u(a){var b=setTimeout(a,1e3);clearTimeout(b)}function v(a,b,c){return function(){var d=O.PSD;O.PSD=c;try{a.apply(this,arguments)}catch(e){b(e)}finally{O.PSD=d}}}function w(a,b){var d,e,f,g,h,i;if(a.hasOwnProperty(b))return a[b];if(!b)return a;if("string"!=typeof b){for(d=[],e=0,f=b.length;f>e;++e)g=w(a,b[e]),d.push(g);return d}return h=b.indexOf("."),-1!==h?(i=a[b.substr(0,h)],i===c?c:w(i,b.substr(h+1))):c}function x(a,b,d){var e,f,g,h,i,j;if(a&&b!==c)if("string"!=typeof b&&"length"in b)for((s("string"!=typeof d&&"length"in d),e=0,f=b.length);f>e;++e)x(a,b[e],d[e]);else g=b.indexOf("."),-1!==g?(h=b.substr(0,g),i=b.substr(g+1),""===i?d===c?delete a[h]:a[h]=d:(j=a[h],j||(j=a[h]={}),x(j,i,d))):d===c?delete a[b]:a[b]=d}function y(a,b){x(a,b,c)}function z(a){var b={};for(var c in a)a.hasOwnProperty(c)&&(b[c]=a[c]);return b}function A(a){var b,c,d,e;if(!a||"object"!=typeof a)return a;if(Array.isArray(a))for(b=[],c=0,d=a.length;d>c;++c)b.push(A(a[c]));else if(a instanceof Date)b=new Date,b.setTime(a.getTime());else{b=a.constructor?Object.create(a.constructor.prototype):{};for(e in a)a.hasOwnProperty(e)&&(b[e]=A(a[e]))}return b}function B(a,b){var d={};for(var e in a)a.hasOwnProperty(e)&&(b.hasOwnProperty(e)?a[e]!==b[e]&&JSON.stringify(a[e])!=JSON.stringify(b[e])&&(d[e]=b[e]):d[e]=c);for(e in b)b.hasOwnProperty(e)&&!a.hasOwnProperty(e)&&(d[e]=b[e]);return d}function C(a){if("function"==typeof a)return new a;if(Array.isArray(a))return[C(a[0])];if(a&&"object"==typeof a){var b={};return D(b,a),b}return a}function D(a,b){Object.keys(b).forEach(function(c){var d=C(b[c]);a[c]=d})}function E(a,b){return function(c){var d,e=c&&c.target.error||new Error;return b&&(d=" occurred when "+b.map(function(a){switch(typeof a){case"function":return a();case"string":return a;default:return JSON.stringify(a)}}).join(" "),e.name?e.toString=function(){return e.name+d+(e.message?". "+e.message:"")}:e+=d),a(e),c&&(c.stopPropagation&&c.stopPropagation(),c.preventDefault&&c.preventDefault()),!1}}function F(a){try{throw a}catch(b){return b}}function G(a){a.preventDefault()}function H(a){var b,c=g.dependencies.localStorage;if(!c)return a([]);try{b=JSON.parse(c.getItem("Dexie.DatabaseNames")||"[]")}catch(d){b=[]}a(b)&&c.setItem("Dexie.DatabaseNames",JSON.stringify(b))}function I(a,b,c,d,e,f,g){this.name=a,this.keyPath=b,this.unique=c,this.multi=d,this.auto=e,this.compound=f,this.dotted=g;var h="string"==typeof b?b:b&&"["+[].join.call(b,"+")+"]";this.src=(c?"&":"")+(d?"*":"")+(e?"++":"")+h}function J(a,b,c,d){this.name=a,this.primKey=b||new I,this.indexes=c||[new I],this.instanceTemplate=d,this.mappedClass=null,this.idxByName=c.reduce(function(a,b){return a[b.name]=b,a},{})}function K(a,b,c,d){this.name="ModifyError",this.failures=b,this.failedKeys=d,this.successCount=c,this.message=b.join("\n")}function L(a){return 1===a.length?a[0]:a}function M(){var a=g.dependencies.indexedDB,b=a&&(a.getDatabaseNames||a.webkitGetDatabaseNames);return b&&b.bind(a)}var N,O=function(){function b(a){s.push([a,n.call(arguments,1)])}function c(){var b,c,d,e=s;for(s=[],b=0,c=e.length;c>b;++b)d=e[b],d[0].apply(a,d[1])}function d(a){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof a)throw new TypeError("not a function");this._state=null,this._value=null,this._deferreds=[],this._catched=!1;var b=this,c=!0;this._PSD=d.PSD;try{m(this,a,function(a){c?p(i,b,a):i(b,a)},function(a){return c?(p(j,b,a),!1):j(b,a)})}finally{c=!1}}function e(a,e){var f,h,i,j,k,l;if(null===a._state)return void a._deferreds.push(e);if(f=a._state?e.onFulfilled:e.onRejected,null===f)return(a._state?e.resolve:e.reject)(a._value);i=q,q=!1,p=b;try{j=d.PSD,d.PSD=a._PSD,h=f(a._value),a._state||h&&"function"==typeof h.then&&h._state===!1||g(a),e.resolve(h)}catch(m){if(k=e.reject(m),!k&&a.onuncatched)try{a.onuncatched(m)}catch(m){}}finally{if(d.PSD=j,i){do{for(;s.length>0;)c();if(l=t.pop())try{l()}catch(m){}}while(t.length>0||s.length>0);p=o,q=!0}}}function f(a){var d,e=q;q=!1,p=b;try{a()}finally{if(e){do{for(;s.length>0;)c();if(d=t.pop())try{d()}catch(f){}}while(t.length>0||s.length>0);p=o,q=!0}}}function g(a){a._catched=!0,a._parent&&g(a._parent)}function i(a,b){var c=d.PSD;d.PSD=a._PSD;try{if(b===a)throw new TypeError("A promise cannot be resolved with itself.");if(b&&("object"==typeof b||"function"==typeof b)&&"function"==typeof b.then)return void m(a,function(a,c){b.then(a,c)},function(b){i(a,b)},function(b){j(a,b)});a._state=!0,a._value=b,k.call(a)}catch(e){j(e)}finally{d.PSD=c}}function j(a,b){var c=d.PSD;if(d.PSD=a._PSD,a._state=!1,a._value=b,k.call(a),!a._catched)try{a.onuncatched&&a.onuncatched(a._value),d.on.error.fire(a._value)}catch(e){}return d.PSD=c,a._catched}function k(){for(var a=0,b=this._deferreds.length;b>a;a++)e(this,this._deferreds[a]);this._deferreds=[]}function l(a,b,c,d){this.onFulfilled="function"==typeof a?a:null,this.onRejected="function"==typeof b?b:null,this.resolve=c,this.reject=d}function m(a,b,c,d){var e=!1;try{b(function(a){e||(e=!0,c(a))},function(b){return e?a._catched:(e=!0,d(b))})}catch(f){return e?void 0:d(f)}}var n=[].slice,o="undefined"==typeof setImmediate?function(b){var c=arguments;setTimeout(function(){b.apply(a,n.call(c,1))},0)}:setImmediate,p=o,q=!0,s=[],t=[];return d.on=r(null,"error"),d.all=function(){var a=Array.prototype.slice.call(1===arguments.length&&Array.isArray(arguments[0])?arguments[0]:arguments);return new d(function(b,c){function d(f,g){try{if(g&&("object"==typeof g||"function"==typeof g)){var h=g.then;if("function"==typeof h)return void h.call(g,function(a){d(f,a)},c)}a[f]=g,0==--e&&b(a)}catch(i){c(i)}}var e,f;if(0===a.length)return b([]);for(e=a.length,f=0;f<a.length;f++)d(f,a[f])})},d.prototype.then=function(a,b){var c=this,f=new d(function(d,f){null===c._state?e(c,new l(a,b,d,f)):p(e,c,new l(a,b,d,f))});return f._PSD=this._PSD,f.onuncatched=this.onuncatched,f._parent=this,f},d.prototype._then=function(a,b){e(this,new l(a,b,h,h))},d.prototype["catch"]=function(a){if(1===arguments.length)return this.then(null,a);var b=arguments[0],c=arguments[1];return"function"==typeof b?this.then(null,function(a){return a instanceof b?c(a):d.reject(a)}):this.then(null,function(a){return a&&a.name===b?c(a):d.reject(a)})},d.prototype["finally"]=function(a){return this.then(function(b){return a(),b},function(b){return a(),d.reject(b)})},d.prototype.onuncatched=null,d.resolve=function(a){var b=new d(function(){});return b._state=!0,b._value=a,b},d.reject=function(a){var b=new d(function(){});return b._state=!1,b._value=a,b},d.race=function(a){return new d(function(b,c){a.map(function(a){a.then(b,c)})})},d.PSD=null,d.newPSD=function(a){var b=d.PSD;d.PSD=b?Object.create(b):{};try{return a()}finally{d.PSD=b}},d._rootExec=f,d._tickFinalize=function(a){if(q)throw new Error("Not in a virtual tick");t.push(a)},d}(),P=function(){};e(K).from(Error),g["delete"]=function(a){var b=new g(a),c=b["delete"]();return c.onblocked=function(a){return b.on("blocked",a),this},c},g.getDatabaseNames=function(a){return new O(function(a,b){var c,d=M();d?(c=d(),c.onsuccess=function(b){a([].slice.call(b.target.result,0))},c.onerror=E(b)):H(function(b){return a(b),!1})}).then(a)},g.defineClass=function(a){function b(a){a&&d(this,a)}return D(b.prototype,a),b},g.ignoreTransaction=function(a){return O.newPSD(function(){return O.PSD.trans=null,a()})},g.spawn=function(){return a.console&&console.warn("Dexie.spawn() is deprecated. Use Dexie.ignoreTransaction() instead."),g.ignoreTransaction.apply(this,arguments)},g.vip=function(a){return O.newPSD(function(){return O.PSD.letThrough=!0,a()})},Object.defineProperty(g,"currentTransaction",{get:function(){return O.PSD&&O.PSD.trans||null}}),g.Promise=O,g.derive=e,g.extend=d,g.override=f,g.events=r,g.getByKeyPath=w,g.setByKeyPath=x,g.delByKeyPath=y,g.shallowClone=z,g.deepClone=A,g.addons=[],g.fakeAutoComplete=P,g.asap=t,g.ModifyError=K,g.MultiModifyError=K,g.IndexSpec=I,g.TableSchema=J,N=a.idbModules&&a.idbModules.shimIndexedDB?a.idbModules:{},g.dependencies={indexedDB:N.shimIndexedDB||a.indexedDB||a.mozIndexedDB||a.webkitIndexedDB||a.msIndexedDB,IDBKeyRange:N.IDBKeyRange||a.IDBKeyRange||a.webkitIDBKeyRange,IDBTransaction:N.IDBTransaction||a.IDBTransaction||a.webkitIDBTransaction,Error:a.Error||String,SyntaxError:a.SyntaxError||String,TypeError:a.TypeError||String,DOMError:a.DOMError||String,localStorage:null!=("undefined"!=typeof chrome&&null!==chrome?chrome.storage:void 0)?null:a.localStorage},g.version=1.1,b("Dexie",g),u(function(){P=u})}.apply(null,"function"==typeof define&&define.amd?[self||window,function(a,b){define(a,function(){return b})}]:"undefined"!=typeof global&&"undefined"!=typeof module&&module.exports?[global,function(a,b){module.exports=b}]:[self||window,function(a,b){(self||window)[a]=b}]),!function(a){function b(a,c){this.list=a,this.options=c=c||{};var d,e,f,g;for(d=0,g=["sort","includeScore","shouldSort"],e=g.length;e>d;d++)f=g[d],this.options[f]=f in c?c[f]:b.defaultOptions[f];for(d=0,g=["searchFn","sortFn","keys","getFn"],e=g.length;e>d;d++)f=g[d],this.options[f]=c[f]||b.defaultOptions[f]}var c=function(a,b){if(b=b||{},this.options=b,this.options.location=b.location||c.defaultOptions.location,this.options.distance="distance"in b?b.distance:c.defaultOptions.distance,this.options.threshold="threshold"in b?b.threshold:c.defaultOptions.threshold,this.options.maxPatternLength=b.maxPatternLength||c.defaultOptions.maxPatternLength,this.pattern=b.caseSensitive?a:a.toLowerCase(),this.patternLen=a.length,this.patternLen>this.options.maxPatternLength)throw new Error("Pattern length is too long");this.matchmask=1<<this.patternLen-1,this.patternAlphabet=this._calculatePatternAlphabet()};c.defaultOptions={location:0,distance:100,threshold:.6,maxPatternLength:32},c.prototype._calculatePatternAlphabet=function(){var a={},b=0;for(b=0;b<this.patternLen;b++)a[this.pattern.charAt(b)]=0;for(b=0;b<this.patternLen;b++)a[this.pattern.charAt(b)]|=1<<this.pattern.length-b-1;return a},c.prototype._bitapScore=function(a,b){var c=a/this.patternLen,d=Math.abs(this.options.location-b);return this.options.distance?c+d/this.options.distance:d?1:c},c.prototype.search=function(a){if(a=this.options.caseSensitive?a:a.toLowerCase(),this.pattern===a)return{isMatch:!0,score:0};var b,c,d,e,f,g,h,i,j,k=a.length,l=this.options.location,m=this.options.threshold,n=a.indexOf(this.pattern,l),o=this.patternLen+k,p=1,q=[];for(-1!=n&&(m=Math.min(this._bitapScore(0,n),m),n=a.lastIndexOf(this.pattern,l+this.patternLen),-1!=n&&(m=Math.min(this._bitapScore(0,n),m))),n=-1,b=0;b<this.patternLen;b++){for(d=0,e=o;e>d;)this._bitapScore(b,l+e)<=m?d=e:o=e,e=Math.floor((o-d)/2+d);for(o=e,f=Math.max(1,l-e+1),g=Math.min(l+e,k)+this.patternLen,h=Array(g+2),h[g+1]=(1<<b)-1,c=g;c>=f;c--)if(j=this.patternAlphabet[a.charAt(c-1)],h[c]=0===b?(h[c+1]<<1|1)&j:(h[c+1]<<1|1)&j|((i[c+1]|i[c])<<1|1)|i[c+1],h[c]&this.matchmask&&(p=this._bitapScore(b,c-1),m>=p)){if(m=p,n=c-1,q.push(n),!(n>l))break;f=Math.max(1,2*l-n)}if(this._bitapScore(b+1,l)>m)break;i=h}return{isMatch:n>=0,score:p}};var d=function(a,b,c){var f,g,h;if(b){h=b.indexOf("."),-1!==h?(f=b.slice(0,h),g=b.slice(h+1)):f=b;var i=a[f];if(i)if(g||"string"!=typeof i&&"number"!=typeof i)if(e.isArray(i))for(var j=0,k=i.length;k>j;j++)d(i[j],g,c);else g&&d(i,g,c);else c.push(i)}else c.push(a);return c},e={deepValue:function(a,b){return d(a,b,[])},isArray:function(a){return"[object Array]"===Object.prototype.toString.call(a)}};b.defaultOptions={id:null,caseSensitive:!1,includeScore:!1,shouldSort:!0,searchFn:c,sortFn:function(a,b){return a.score-b.score},getFn:e.deepValue,keys:[]},b.prototype.set=function(a){return this.list=a,a},b.prototype.search=function(a){var b,c,d,f,g=new this.options.searchFn(a,this.options),h=this.list,i=h.length,j=this.options,k=this.options.keys,l=k.length,m=[],n={},o=[],p=function(a,b,c){if(void 0!==a&&null!==a)if("string"==typeof a)d=g.search(a),d.isMatch&&(f=n[c],f?f.score=Math.min(f.score,d.score):(n[c]={item:b,score:d.score},m.push(n[c])));else if(e.isArray(a))for(var h=0;h<a.length;h++)p(a[h],b,c)};if("string"==typeof h[0])for(var q=0;i>q;q++)p(h[q],q,q);else for(var q=0;i>q;q++)for(c=h[q],b=0;l>b;b++)p(j.getFn(c,k[b]),c,q);j.shouldSort&&m.sort(j.sortFn);for(var r=j.includeScore?function(a){return m[a]}:function(a){return m[a].item},s=j.id?function(a){m[a].item=j.getFn(m[a].item,j.id)[0]}:function(){},q=0,t=m.length;t>q;q++)s(q),o.push(r(q));return o},"object"==typeof exports?module.exports=b:"function"==typeof define&&define.amd?define(function(){return b}):a.Fuse=b}(this),angular.module("mldocsApp").run(["$templateCache",function(a){a.put("app/main/detail.html","<div ng-include=\"'app/main/partials/restapi.detail.partial.html'\" ng-if=api.isRest></div><div ng-include=\"'app/main/partials/api.detail.partial.html'\" ng-if=!api.isRest></div><div ng-include=\"'app/main/partials/progress.partial.html'\" ng-if=showProgress></div>"),a.put("app/main/list.html","<div ng-include=\"'app/main/partials/progress.partial.html'\" ng-if=showProgress></div><md-content layout-padding ng-if=list><h3 class=md-display-1><b>{{$state.params.lib}}</b><small>({{list.length}})</small></h3><md-input-container><input ng-model=api.apiName placeholder=filter></md-input-container><table><tr><th><md-content layout-padding>Names</md-content></th><th><md-content layout-padding>Description</md-content></th></tr><tbody><tr ng-repeat=\"item in list | filter:api\"><td class=col-md-5><md-content layout-padding><a ui-sref=app.detail({uri:item.uri})><b>{{::item['http-verb']}} {{::item.lib}}:{{::item.apiName}}</b></a></md-content></td><td><md-content layout-padding>{{::item.summary | cut:true:150 }}</md-content></td></tr></tbody></table></md-content>"),a.put("app/main/main.html",'<!-- <md-input-container>\n    <label>Search</label>\n    <input type="text" ng-model="query.q" required>\n</md-input-container>\n<md-button class="md-raised md-mini md-primary" md-ripple-size="full" ng-click="search()"> Search </md-button>\n<hr> --><div layout=row layout-align="start center"><div flex=66><form ng-submit=$event.preventDefault()><md-autocomplete md-search-text-change=query.suggest(query.q) md-search-text=query.q md-selected-item-change="search(suggest, true)" md-items="suggest in query.suggestions" md-min-length=3 md-autoselect=true md-autofocus=true placeholder="search marklogic apis"><md-item-template><span md-highlight-text=query.q md-highlight-flags=^i>{{suggest}}</span></md-item-template><md-not-found>No matches found for "{{query.q}}".</md-not-found></md-autocomplete></form></div><div><md-button class="md-raised md-mini md-primary" md-ripple-size=full ng-click=search()><i class="fa fa-search"></i> Search</md-button></div></div><div ng-include="\'app/main/partials/progress.partial.html\'" ng-if=showProgress></div><div ng-include="\'app/main/partials/intro.partial.html\'"></div><h4 ng-if="results.length > 0">Found <b>{{results.length}}</b> APIs</h4><md-list><md-list-item class=md-2-line ng-repeat="item in results track by $index"><div class=md-list-item-text><a ui-sref=app.detail({uri:item.uri})><b>{{::item.lib}}:{{::item.apiName}}</b></a> <small><em>(<a href=/list/{{item.bucket}}>{{::item.bucket}}</a>)</em></small><p>{{::item.summary | cut:true:220}}</p></div></md-list-item></md-list>'),a.put("app/main/navbar.html",'<!-- <div layout="column" layout-fill>\n    <md-toolbar class="md-hue-2">\n        <div class="md-toolbar-tools">\n         <md-button ng-click="toggleSideBar()" hide-gt-md>\n            <i class="material-icons">menu</i>\n             <md-tooltip md-direction="bottom" md-autohide="true">\n                    sidebar\n                </md-tooltip>\n            </md-button>\n            <md-button href="/">\n                <i class="material-icons">developer_board</i>\n                <span class="md-title">ML Docs</span>\n            </md-button>\n        </div>\n    </md-toolbar>\n</div>\n --><md-toolbar class=md-hue-2><div class=md-toolbar-tools><md-button ng-click=toggleSideBar() hide-gt-md><i class="fa fa-bars fa-2x"></i><md-tooltip md-direction=bottom md-autohide=true>sidebar</md-tooltip></md-button><md-button href="/"><span style=font-size:30px><i class="fa fa-book"></i> ML Docs</span><span style=text-transform:lowercase><i>lite</i></span></md-button><span flex></span><md-button ng-if=!$parent.isOnline><i class="fa fa-circle text-danger"></i> in offline mode<md-tooltip md-direction=bottom md-autohide=true>Don\'t worry! you can still search apis</md-tooltip></md-button><md-button class="md-raised md-warn" ng-click=saveForOffline()><i class="fa fa-cloud-download"></i> Save<md-tooltip md-direction=bottom md-autohide=true>save docs for offline access</md-tooltip></md-button><!--   <form ng-submit="$event.preventDefault()">\n            <md-autocomplete md-search-text-change="query.suggest(query.q)" md-search-text="query.q" md-selected-item-change="search(suggest, true)" md-items="suggest in query.suggestions" md-min-length="0" md-autoselect="true" md-autofocus="true" placeholder="search marklogic apis">\n                <md-item-template>\n                    <span md-highlight-text="query.q" md-highlight-flags="^i">{{suggest}}</span>\n                </md-item-template>\n                <md-not-found>\n                    No matches found for "{{query.q}}".\n                </md-not-found>\n            </md-autocomplete>\n        </form> --></div><!-- <div layout="row" layout="start center">\n<a href="" ng-click="toggleSideBar()"> <md-icon md-font-set="material-icons"> menu </md-icon></a>   \n    <header>\n    <b class="md-toolbar-tools"><a href="/"><i class="material-icons">directions_run</i> ML Man</a></b> \n    </header>\n</div> --></md-toolbar>'),a.put("app/main/partials/api.detail.partial.html",'<div ng-if=api><h4 class=md-headline><b><!-- <md-button md-no-ink class="md-primary" href="/list/{{api.lib}}">{{api.lib}}</md-button>:{{api.apiName}}() --><a href=/list/{{api.lib}}>{{::api.lib}}</a>:{{::api.apiName}}()</b></h4><md-content layout-padding><h3 class=md-title><b>Summary</b></h3><md-content layout-padding>{{::api.summary}}</md-content><h3 class=md-title><b>Usage</b></h3><p><pre style=max-width:500px>\n        <b>{{::api.lib}}:{{::api.apiName}}(){ </b>\n        <span ng-repeat="param in api.params">\n        <b style=padding-left:30px>{{::param.name}}</b> as <em>{{::param.type}}</em>\n         </span>\n        <b>}</b> as <b>{{::api.return}}</b>\n        </pre></p><div ng-if="api.params.length > 0"><h3 class=md-title><b>Parameters</b></h3><table><tr><th><md-content layout-padding>Name</md-content></th><th><md-content layout-padding>Required</md-content></th><th><md-content layout-padding>Description</md-content></th></tr><tbody><tr ng-repeat="param in api.params"><td><md-content layout-padding><code>{{::param.name}}</code></md-content></td><td><md-content layout-padding>{{::param.required}}</md-content></td><td><md-content layout-padding>{{::param.description}}</md-content></td></tr></tbody></table></div><h3 class=md-title ng-if="api.examples.length > 0"><b>Example</b></h3><div ng-repeat="example in api.examples"><pre>{{::example}}</pre></div><!-- <md-whiteframe class="md-whiteframe-z5" layout layout-align="center center" ng-repeat="example in api.examples">  \n  </md-whiteframe> --></md-content></div><!-- <md-card>\n    <md-card-content>\n    <h3 class="md-title"><b>Summary</b></h3>\n        <md-content layout-padding>\n            {{api.summary}}\n        </md-content>\n\n        <h3 class="md-title"><b>Usage</b></h3>\n        <p>\n            <pre style="max-width:500px">\n        <b>{{api.lib}}:{{api.apiName}}(){ </b>\n        <span ng-repeat="param in api.params">\n        <b>{{param.name}}</b> as <em>{{param.type}}</em>\n         </span>\n        <b>}</b> as <b>{{api.return}}</b>\n        </pre>\n        </p>\n        \n        <h3 class="md-title"><b>Parameters</b></h3>\n        <table>\n            <tr>\n                <th>\n                    <md-content layout-padding>\n                        Name\n                    </md-content>\n                </th>\n                <th>\n                    <md-content layout-padding>\n                        Required\n                    </md-content>\n                </th>\n                <th>\n                    <md-content layout-padding>\n                        Description\n                    </md-content>\n                </th>\n            </tr>\n            <tbody>\n                <tr ng-repeat="param in api.params">\n                    <td>\n                        <md-content layout-padding>\n                            <code>{{param.name}}</code>\n                        </md-content>\n                    </td>\n                    <td>\n                        <md-content layout-padding>\n                            {{param.required}}\n                        </md-content>\n                    </td>\n                    <td>\n                        <md-content layout-padding>\n                            {{param.description}}\n                        </md-content>\n                    </td>\n                </tr>\n            </tbody>\n        </table>\n\n   <h3 class="md-title"><b>Example</b></h3>\n    <md-whiteframe class="md-whiteframe-z5" layout layout-align="center center" ng-repeat="example in api.examples">\n    <pre>{{example}}</pre>\n  </md-whiteframe>\n    \n\n    </md-card-content>\n</md-card> -->'),a.put("app/main/partials/intro.partial.html",'<md-whiteframe class=md-whiteframe-z3 layout layout-align="center center" style=margin-top:50px id=intro ng-if=intro><div layout=column layout-align="center center"><div class=md-title>Find your API in 3 simple steps....even offline!</div><div class=md-display-1><i class="fa fa-sign-in"></i></div><div class=md-display-1>Get in</div><h1><i class="fa fa-long-arrow-down"></i></h1><div class=md-display-1><i class="fa fa-search"></i></div><div class=md-display-1>Find your API</div><h1><i class="fa fa-long-arrow-down"></i></h1><div class=md-display-1><i class="fa fa-sign-out"></i></div><div class=md-display-1>Get out</div></div></md-whiteframe>'),
a.put("app/main/partials/progress.partial.html","<br><br><br><br><div layout=row layout-sm=column layout-align=space-around><md-progress-circular class=md-warn md-mode=indeterminate></md-progress-circular></div>"),a.put("app/main/partials/restapi.detail.partial.html",'<div ng-if=api><h4 class=md-headline><b><!-- <md-button md-no-ink class="md-primary" href="/list/{{api.lib}}">{{api.lib}}</md-button>:{{api.apiName}}() --><a href=/list/{{api.lib}}>{{api.lib}}</a>: {{api[\'http-verb\']}} {{api.apiName}}</b></h4><md-content layout-padding><h3 class=md-title><b>Summary</b></h3><md-content layout-padding>{{api.summary}}</md-content><div ng-if="api.params.length > 0"><h3 class=md-title><b>Parameters</b></h3><table><tr><th><md-content layout-padding>Name</md-content></th><th><md-content layout-padding>Type</md-content></th><th><md-content layout-padding>Description</md-content></th></tr><tbody><tr ng-repeat="param in api.params"><td><md-content layout-padding><code>{{param.name}}</code></md-content></td><td><md-content layout-padding>{{param.type}}</md-content></td><td><md-content layout-padding>{{param.description}}</md-content></td></tr></tbody></table><div ng-if="api.headers.length > 0"><h3 class=md-title><b>Headers</b></h3><table><tr><th><md-content layout-padding>Name</md-content></th><th><md-content layout-padding>Type</md-content></th><th><md-content layout-padding>Description</md-content></th></tr><tbody><tr ng-repeat="header in api.headers"><td><md-content layout-padding><code>{{header.name}}</code></md-content></td><td><md-content layout-padding>{{header.type}}</md-content></td><td><md-content layout-padding>{{header.description}}</md-content></td></tr></tbody></table></div><h3 class=md-title ng-if="api.examples.length > 0"><b>Example</b></h3><div ng-repeat="example in api.examples"><!--  length of 3 to check for empty values --><pre>{{example}}</pre></div><!-- <md-whiteframe class="md-whiteframe-z5" layout layout-align="center center" ng-repeat="example in api.examples">  \n  </md-whiteframe> --></div></md-content></div><!-- <md-card>\n    <md-card-content>\n    <h3 class="md-title"><b>Summary</b></h3>\n        <md-content layout-padding>\n            {{api.summary}}\n        </md-content>\n\n        <h3 class="md-title"><b>Usage</b></h3>\n        <p>\n            <pre style="max-width:500px">\n        <b>{{api.lib}}:{{api.apiName}}(){ </b>\n        <span ng-repeat="param in api.params">\n        <b>{{param.name}}</b> as <em>{{param.type}}</em>\n         </span>\n        <b>}</b> as <b>{{api.return}}</b>\n        </pre>\n        </p>\n        \n        <h3 class="md-title"><b>Parameters</b></h3>\n        <table>\n            <tr>\n                <th>\n                    <md-content layout-padding>\n                        Name\n                    </md-content>\n                </th>\n                <th>\n                    <md-content layout-padding>\n                        Required\n                    </md-content>\n                </th>\n                <th>\n                    <md-content layout-padding>\n                        Description\n                    </md-content>\n                </th>\n            </tr>\n            <tbody>\n                <tr ng-repeat="param in api.params">\n                    <td>\n                        <md-content layout-padding>\n                            <code>{{param.name}}</code>\n                        </md-content>\n                    </td>\n                    <td>\n                        <md-content layout-padding>\n                            {{param.required}}\n                        </md-content>\n                    </td>\n                    <td>\n                        <md-content layout-padding>\n                            {{param.description}}\n                        </md-content>\n                    </td>\n                </tr>\n            </tbody>\n        </table>\n\n   <h3 class="md-title"><b>Example</b></h3>\n    <md-whiteframe class="md-whiteframe-z5" layout layout-align="center center" ng-repeat="example in api.examples">\n    <pre>{{example}}</pre>\n  </md-whiteframe>\n    \n\n    </md-card-content>\n</md-card> -->'),a.put("app/main/result.html",'<h4 ng-if="results.length > 0">Results: (<b>{{results.length}}</b>)</h4><md-list><md-list-item class=md-2-line ng-repeat="item in results track by $index"><div class=md-list-item-text><a ui-sref=app.detail({uri:item.uri})><b>{{item.lib}}:{{item.apiName}}</b></a> <small><em>(<a href=/list/{{item.bucket}}>{{item.bucket}}</a>)</em></small><p>{{item.summary}}</p></div></md-list-item></md-list>'),a.put("app/main/search.html",'<md-button ng-click=toggleSideBar()>Side bar</md-button><md-input-container><input ng-model=query.q required></md-input-container><md-button class="md-raised md-mini md-primary" md-ripple-size=full ng-click=search()>Search</md-button>'),a.put("app/main/sidebar.html",'<div layout=column><div><md-toolbar class=md-hue-2><div class=md-toolbar-tools><span class=md-subhead><i class="fa fa-file-text-o"></i> Modules</span></div></md-toolbar></div><div><md-content layout-padding><md-input-container><label>find module</label><input ng-model=find></md-input-container><md-list ng-repeat="(name, bucket) in modules"><md-list class=md-2-line><!--   <md-subheader>{{name | uppercase }}</md-subheader> --><!--You can use md-no-sticky class--><md-list><md-list-item class=md-2-line ng-repeat="facet in bucket | filter:find" style=margin-bottom:-20px><md-button md-ink-ripple href=/list/{{facet.name}}><h5>{{facet.name}} <small class=md-caption>({{facet.count}})</small></h5></md-button></md-list-item></md-list><md-divider></md-divider></md-list></md-list></md-content></div></div>'),a.put("components/modal/modal.html",'<div class=modal-header><button ng-if=modal.dismissable type=button ng-click=$dismiss() class=close>&times;</button><h4 ng-if=modal.title ng-bind=modal.title class=modal-title></h4></div><div class=modal-body><p ng-if=modal.text ng-bind=modal.text></p><div ng-if=modal.html ng-bind-html=modal.html></div></div><div class=modal-footer><button ng-repeat="button in modal.buttons" ng-class=button.classes ng-click=button.click($event) ng-bind=button.text class=btn></button></div>'),a.put("components/navbar/navbar.html",'<div class="navbar navbar-default navbar-static-top" ng-controller=NavbarCtrl><div class=container><div class=navbar-header><button class=navbar-toggle type=button ng-click="isCollapsed = !isCollapsed"><span class=sr-only>Toggle navigation</span> <span class=icon-bar></span> <span class=icon-bar></span> <span class=icon-bar></span></button> <a href="/" class=navbar-brand>mldocs</a></div><div collapse=isCollapsed class="navbar-collapse collapse" id=navbar-main><ul class="nav navbar-nav"><li ng-repeat="item in menu" ng-class="{active: isActive(item.link)}"><a ng-href={{item.link}}>{{item.title}}</a></li></ul></div></div></div>')}]);